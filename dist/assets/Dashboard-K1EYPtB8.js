import{r as u,j as e}from"./vendor-W84mhc-l.js";import{B as r,a as c,c as N,u as F,E as z}from"./index-BRQ3_4kF.js";import{C as m,a as h,b as g,c as p}from"./card-CpwL0RW4.js";import{S as w}from"./separator-CEasVtJw.js";import{L as f}from"./router-C1wKTLYl.js";import{D as R,a as I,b as L,c as O,d as H}from"./dialog-Bor2lZTe.js";import{L as $,T as B}from"./label-DBiTg2jL.js";import{C,T as U,e as V,f as W,g as Y,S as G,X as j,h as y,i as X}from"./icons-DPUJRDi7.js";import{R as _,T as K,P as q,C as J,a as Q,I as Z}from"./radix-CnjOkeCj.js";function ee({open:a,onClose:t}){const[i,d]=u.useState(""),n=()=>{t(),d("")};return e.jsx(R,{open:a,onOpenChange:x=>!x&&t(),children:e.jsxs(I,{className:"max-w-2xl",children:[e.jsxs(L,{children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-50 border border-green-200 flex items-center justify-center mb-4",children:e.jsx(C,{className:"w-6 h-6 text-green-600"})}),e.jsx(O,{className:"text-2xl",children:"No Action Needed"}),e.jsx(H,{children:"Your portfolio is performing well within expected parameters."})]}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsx("div",{className:"p-4 rounded-lg border border-blue-200 bg-blue-50 text-blue-900",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(U,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"font-medium",children:"Portfolio up 5.2% this week"})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-white border border-blue-500/20",children:[e.jsx("p",{className:"text-xs font-semibold text-[#1e40af] uppercase tracking-wider mb-2",children:"Insight"}),e.jsx("p",{className:"text-sm leading-relaxed text-gray-700 mb-3",children:"Driven by strong tech earnings and energy recovery. Your portfolio outperformed S&P 500 by 2.1% this week. Consider rebalancing tech allocation which has grown to 65% of total holdings."}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{children:"12 articles analyzed"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"5 earnings reports reviewed"})]})]}),e.jsx(w,{className:"bg-blue-200"}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(V,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Key Drivers"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsx(r,{variant:"secondary",className:"bg-white",children:"Tech: +7.1%"}),e.jsx(r,{variant:"secondary",className:"bg-white",children:"Finance: +2.3%"}),e.jsx(r,{variant:"secondary",className:"bg-white",children:"Energy: -1.2%"})]})]})]})]})}),e.jsxs("div",{children:[e.jsx($,{htmlFor:"note",children:"Save Note (Optional)"}),e.jsx(B,{id:"note",placeholder:"Add a note about this...",value:i,onChange:x=>d(x.target.value),className:"mt-2"})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end pt-4 border-t",children:[e.jsx(c,{variant:"outline",onClick:t,children:"Cancel"}),e.jsx(c,{onClick:n,children:"Save & Close"})]})]})})}function se({...a}){return e.jsx(_,{"data-slot":"dropdown-menu",...a})}function re({...a}){return e.jsx(K,{"data-slot":"dropdown-menu-trigger",...a})}function ae({className:a,sideOffset:t=4,...i}){return e.jsx(q,{children:e.jsx(J,{"data-slot":"dropdown-menu-content",sideOffset:t,className:N("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",a),...i})})}function v({className:a,children:t,checked:i,...d}){return e.jsxs(Q,{"data-slot":"dropdown-menu-checkbox-item",className:N("focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),checked:i,...d,children:[e.jsx("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:e.jsx(Z,{children:e.jsx(W,{className:"size-4"})})}),t]})}function he(){const[a,t]=u.useState(!1),[i,d]=u.useState(null),[n,x]=u.useState({topMovers:!0,topMarketMovers:!0,riskExposure:!0,ruleTriggers:!0}),M=[{section:"Stock",what:"Tech stocks surged on strong earnings",why:"Your AAPL and MSFT holdings gained 3.2% and 1.8%",action:"success"},{section:"Sector",what:"Energy sector showed volatility",why:"Your XOM position experienced -2.1% movement",action:"warning"},{section:"Portfolio",what:"Portfolio concentration increased",why:"Tech now represents 65% of total holdings (up from 60%)",action:"alert"}],T={success:"border-l-green-500",warning:"border-l-yellow-500",alert:"border-l-red-500"},k=[{source:"Portfolio Holdings",evidence:"AAPL and MSFT gains contributed most of today's portfolio move.",confidence:"High"},{source:"Sector Exposure",evidence:"Tech allocation is around 65%, above the target band, increasing concentration risk.",confidence:"High"},{source:"News Retrieval",evidence:"Earnings-related positive news was retrieved, while energy-sector coverage remains mixed.",confidence:"Medium"}],{holdings:b,totalValue:S}=F(),P=u.useMemo(()=>[...b].map(s=>({symbol:s.symbol,name:s.name,price:s.currentPrice,change:s.changePercent??0})).sort((s,o)=>(o.change??0)-(s.change??0)).slice(0,5),[b]),D=[{symbol:"SMCI",name:"Super Micro Computer",price:892.45,change:18.52},{symbol:"RIOT",name:"Riot Platforms",price:12.85,change:16.73},{symbol:"PLUG",name:"Plug Power Inc.",price:4.92,change:14.89},{symbol:"UPST",name:"Upstart Holdings",price:38.67,change:13.21},{symbol:"SOFI",name:"SoFi Technologies",price:9.34,change:11.45}],E=[{category:"Tech Concentration",level:"High",value:65},{category:"Market Cap Diversity",level:"Medium",value:45},{category:"Sector Volatility",level:"Low",value:25}],l=s=>{x(o=>({...o,[s]:!o[s]}))};return e.jsxs("div",{className:"p-8 max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-semibold text-gray-900",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-500 mt-1",children:["Your portfolio command center · Portfolio: $",S.toLocaleString("en-US",{minimumFractionDigits:2})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{variant:"outline",size:"sm",onClick:()=>{d({symbol:"PORTFOLIO",type:"success"}),t(!0)},children:"View Weekly Digest"}),e.jsxs(se,{children:[e.jsx(re,{asChild:!0,children:e.jsxs(c,{variant:"outline",size:"sm",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Customize"]})}),e.jsxs(ae,{align:"end",className:"w-56",children:[e.jsx(v,{checked:n.topMovers,onCheckedChange:()=>l("topMovers"),children:"Top Movers in My Portfolio"}),e.jsx(v,{checked:n.topMarketMovers,onCheckedChange:()=>l("topMarketMovers"),children:"Top Market Movers"}),e.jsx(v,{checked:n.riskExposure,onCheckedChange:()=>l("riskExposure"),children:"Risk Exposure"}),e.jsx(v,{checked:n.ruleTriggers,onCheckedChange:()=>l("ruleTriggers"),children:"Rule Triggers & Alerts"})]})]})]})]})}),e.jsxs(m,{className:"mb-6 border-blue-200 bg-blue-50",children:[e.jsx(h,{children:e.jsxs(g,{className:"flex items-center gap-2 text-blue-900",children:[e.jsx(G,{className:"w-5 h-5"}),"AI Brief · Portfolio Overview",e.jsx(r,{variant:"outline",className:"ml-auto bg-white/80",children:"Last updated: 2 min ago"}),e.jsx(r,{variant:"outline",className:"bg-white/80",children:"Gemini + RAG"}),e.jsx(r,{variant:"outline",className:"bg-white/80",children:"Evidence Mode"})]})}),e.jsxs(p,{className:"space-y-4 text-blue-900",children:[M.map((s,o)=>e.jsxs("div",{className:`p-4 rounded-lg border border-blue-200 bg-white hover:border-blue-300 transition-colors border-l-4 ${T[s.action]}`,children:[e.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1 uppercase tracking-wide",children:s.section}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:s.what}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Why it matters: ",s.why]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[s.action==="success"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"secondary",className:"text-xs",children:"AAPL"}),e.jsx(r,{variant:"secondary",className:"text-xs",children:"MSFT"}),e.jsx(r,{variant:"secondary",className:"text-xs",children:"Earnings Beat"})]}),s.action==="warning"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"secondary",className:"text-xs",children:"XOM"}),e.jsx(r,{variant:"secondary",className:"text-xs",children:"Energy Sector"})]}),s.action==="alert"&&e.jsxs(e.Fragment,{children:[e.jsx(r,{variant:"secondary",className:"text-xs",children:"Tech Holdings"}),e.jsx(r,{variant:"secondary",className:"text-xs",children:"Diversification"})]})]})]})]},o)),e.jsx(w,{className:"bg-blue-200"}),e.jsx(z,{items:k})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[n.topMovers&&e.jsxs(m,{children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:"Top Movers in My Portfolio"}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>l("topMovers"),children:e.jsx(j,{className:"w-4 h-4"})})]})}),e.jsx(p,{children:e.jsx("div",{className:"space-y-3",children:P.map(s=>e.jsxs(f,{to:`/stock/${s.symbol}`,className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.symbol}),e.jsx("p",{className:"text-xs text-gray-500",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["$",typeof s.price=="number"?s.price.toFixed(2):s.price]}),e.jsx("div",{className:`flex items-center gap-1 text-sm font-medium ${(s.change??0)>0?"text-green-600":(s.change??0)<0?"text-red-600":"text-gray-500"}`,children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[(s.change??0)>0?"↗":(s.change??0)<0?"↘":"−",(s.change??0)>0?"+":"",(s.change??0).toFixed(2),"%"]})})]}),e.jsx(y,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]})]},s.symbol))})})]}),n.topMarketMovers&&e.jsxs(m,{children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:"Top Market Movers"}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>l("topMarketMovers"),children:e.jsx(j,{className:"w-4 h-4"})})]})}),e.jsx(p,{children:e.jsx("div",{className:"space-y-3",children:D.map(s=>e.jsxs(f,{to:`/stock/${s.symbol}`,className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:s.symbol}),e.jsx("p",{className:"text-xs text-gray-500",children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-medium text-gray-900",children:["$",s.price.toFixed(2)]}),e.jsx("div",{className:`flex items-center gap-1 text-sm font-medium ${s.change>0?"text-green-600":s.change<0?"text-red-600":"text-gray-500"}`,children:e.jsxs("span",{className:"inline-flex items-center gap-1",children:[s.change>0?"↗":s.change<0?"↘":"−",s.change>0?"+":"",s.change.toFixed(2),"%"]})})]}),e.jsx(y,{className:"w-4 h-4 text-gray-400 group-hover:text-gray-600"})]})]},s.symbol))})})]}),n.riskExposure&&e.jsxs(m,{children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:"Risk Exposure"}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>l("riskExposure"),children:e.jsx(j,{className:"w-4 h-4"})})]})}),e.jsx(p,{children:e.jsx("div",{className:"space-y-4",children:E.map((s,o)=>{const A=s.level==="High"?"#ef4444":s.level==="Medium"?"#f59e0b":"#10b981";return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.category}),e.jsx("span",{className:"rounded px-3 py-1 text-xs font-medium bg-gray-100 text-black border-0",children:s.level})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full",style:{width:`${s.value}%`,backgroundColor:A}})})]},o)})})})]})]}),n.ruleTriggers&&e.jsxs(m,{children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{children:"Rule Triggers & Alerts"}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>l("ruleTriggers"),children:e.jsx(j,{className:"w-4 h-4"})})]})}),e.jsx(p,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-yellow-50 border border-yellow-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{className:"w-5 h-5 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Concentration Alert"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tech sector exceeded 60% threshold"})]})]}),e.jsx(f,{to:"/portfolio",children:e.jsx(r,{variant:"outline",className:"cursor-pointer bg-white/95 text-gray-900 border-gray-300 hover:bg-gray-100",children:"View Details"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-green-50 border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(C,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Portfolio Target Met"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Tech holdings achieved +15% growth target"})]})]}),e.jsx(r,{variant:"outline",className:"bg-white/95 text-gray-900 border-gray-300 hover:bg-gray-100",children:"Consider Taking Profit"})]})]})})]}),i&&e.jsx(ee,{open:a,onClose:()=>{t(!1),d(null)},symbol:i.symbol,actionType:i.type})]})}export{he as Dashboard};
